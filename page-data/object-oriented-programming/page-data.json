{"componentChunkName":"component---src-templates-blog-post-js","path":"/object-oriented-programming/","result":{"data":{"site":{"siteMetadata":{"title":"e v m","author":"Emil Martinov","siteUrl":"https://www.emilmartinov.com"}},"mdx":{"id":"fc2ce4a8-4dc7-5cb2-b2ac-14ad937d271c","excerpt":"Requirements: this, passed by reference, passed by value, objects, functions Javascript is free spirit, you can code object oriented and in functional style…","frontmatter":{"title":"Object Oriented Javascript","date":"August 07, 2020"},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst layoutProps = {};\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Requirements: this, passed by reference, passed by value, objects, functions`), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Javascript is free spirit, you can code object oriented and in functional style. When we talk about object oriented, it means we provide a solution through using objects. `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `One of the most common places that we use objects is defining users for a website.`), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-javascript\"\n      }\n    }, `const user = {}\n// let us add properties with dot notation\nuser.name = \"Emil\";\nuser.age = 23;\n\n// let use also create a unique user id, \n// so we can distinguish two users with the same name\n\nuser.balance = 50; // our first user starts at 0\n\n// Let us create another user, this time with object syntax\n\nconst user2 = {\n    name: \"Liam\",\n    age: 10,\n    balance: 0\n}\n\nuser.name // \"Emil\"\nuser2.name // \"Liam\"\n// both dot notation and object syntax is equivalent here\n`)), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `What if we try to create thousands of users. We can let a function, our favorite javascript worker, do the work for us. `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-javascript\"\n      }\n    }, `// we will reassign to user, that is why I have used let. \n// Otherwise I would have chosen const as we do not want to reassign it. \n\n// We want our function to build our object,\n// so we will feed the data as arguments.\nlet user = function(name, age, balance){\n    // we create an object to store this information\n    const newObject= {} \n    // we can also use Object.create(null) to strip away, \n    // Object.prototype connection. \n    // Why we might do this, will be clear later on.\n    newObject.name = name;\n    newObject.age = age;\n    newObject.balance = balance;\n    // since we are using a function, we need to return this value, \n    // otherwise functions return undefined by default.\n\n    return newObject;\n}\n\n\nlet Emil = user(\"Emil\", 23, 50)\nconsole.log(Emil)\n// {name: \"Emil\", age: 23, balance: 50}\nlet Liam = user(\"Liam\", 10, 0)\nconsole.log(Liam)\n// {name: \"Liam\", age: 10, balance: 0}\n`)), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"gatsby-resp-image-link\",\n      href: \"/static/b83eeaf24fafc66bf547f73ea555bef7/0f903/user-object.png\",\n      style: {\n        \"display\": \"block\"\n      },\n      target: \"_blank\",\n      rel: \"noopener\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"gatsby-resp-image-wrapper\",\n      style: {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"maxWidth\": \"590px\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"gatsby-resp-image-background-image\",\n      style: {\n        \"paddingBottom\": \"41.21621621621622%\",\n        \"position\": \"relative\",\n        \"bottom\": \"0px\",\n        \"left\": \"0px\",\n        \"backgroundSize\": \"cover\",\n        \"display\": \"block\"\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"gatsby-resp-image-image\",\n      style: {\n        \"width\": \"100%\",\n        \"height\": \"100%\",\n        \"margin\": \"0px\",\n        \"verticalAlign\": \"middle\",\n        \"position\": \"absolute\",\n        \"top\": \"0px\",\n        \"left\": \"0px\",\n        \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n      },\n      alt: \"User Object\",\n      title: \"\",\n      src: \"/static/b83eeaf24fafc66bf547f73ea555bef7/fcda8/user-object.png\",\n      srcSet: \"/static/b83eeaf24fafc66bf547f73ea555bef7/12f09/user-object.png 148w,\\n/static/b83eeaf24fafc66bf547f73ea555bef7/e4a3f/user-object.png 295w,\\n/static/b83eeaf24fafc66bf547f73ea555bef7/fcda8/user-object.png 590w,\\n/static/b83eeaf24fafc66bf547f73ea555bef7/efc66/user-object.png 885w,\\n/static/b83eeaf24fafc66bf547f73ea555bef7/c83ae/user-object.png 1180w,\\n/static/b83eeaf24fafc66bf547f73ea555bef7/0f903/user-object.png 1719w\",\n      sizes: \"(max-width: 590px) 100vw, 590px\"\n    }))))), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Emil here is an instance(result of the invocation at that moment) of user function. So if user is the parent, Emil would be the child. `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `We can see that a `, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `proto`), ` property is attached to our newly object. This property keeps a reference to the parent’s prototype object. `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `NOTE:`), ` `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components,\n      parentName: \"li\"\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `Keeps a reference`), ` means it points to another direction. If you are confused about what a reference is, please check my other blog post.`)), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components,\n      parentName: \"li\"\n    }, `What is the prototyoe object ? The prototype object is a special object, where created functions/objects store methods that are shared by all created functions/objects. Just like Object.prototype.toString(). Every object has access to it, as every object is created by Object.`))), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `What is a constructor though (see the image)? When we call a function  (invoking a function) or creating an object by using object literal (`, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `{}`), `), a `, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `constructor`), ` function creates, `, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `constructs`), `, the function/object. This function is referenced by `, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `proto`), `.constructor.`), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-javascript\"\n      }\n    }, `Object.getPrototypeOf(Emil)\n`)), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"gatsby-resp-image-link\",\n      href: \"/static/8cb1022cd99d0358613ba925bca0cc3b/ec3e2/emil-prototype.png\",\n      style: {\n        \"display\": \"block\"\n      },\n      target: \"_blank\",\n      rel: \"noopener\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"gatsby-resp-image-wrapper\",\n      style: {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"maxWidth\": \"590px\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"gatsby-resp-image-background-image\",\n      style: {\n        \"paddingBottom\": \"31.756756756756754%\",\n        \"position\": \"relative\",\n        \"bottom\": \"0px\",\n        \"left\": \"0px\",\n        \"backgroundSize\": \"cover\",\n        \"display\": \"block\"\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"gatsby-resp-image-image\",\n      style: {\n        \"width\": \"100%\",\n        \"height\": \"100%\",\n        \"margin\": \"0px\",\n        \"verticalAlign\": \"middle\",\n        \"position\": \"absolute\",\n        \"top\": \"0px\",\n        \"left\": \"0px\",\n        \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n      },\n      alt: \"Emil prototype\",\n      title: \"\",\n      src: \"/static/8cb1022cd99d0358613ba925bca0cc3b/fcda8/emil-prototype.png\",\n      srcSet: \"/static/8cb1022cd99d0358613ba925bca0cc3b/12f09/emil-prototype.png 148w,\\n/static/8cb1022cd99d0358613ba925bca0cc3b/e4a3f/emil-prototype.png 295w,\\n/static/8cb1022cd99d0358613ba925bca0cc3b/fcda8/emil-prototype.png 590w,\\n/static/8cb1022cd99d0358613ba925bca0cc3b/efc66/emil-prototype.png 885w,\\n/static/8cb1022cd99d0358613ba925bca0cc3b/ec3e2/emil-prototype.png 997w\",\n      sizes: \"(max-width: 590px) 100vw, 590px\"\n    }))))), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `When we ask for the prototype of Emil, we get the object referenced by `, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `proto`), `. Above we can see that constructor of Emil object is the Object constructor (capital letter, which refers to the parent of all objects). The reason for this is, we used object literal `, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `{}`), ` to create our function inside user function. The user function just returned the value. `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `We are getting somewhere, but now for each user we need to increment the id by 1. We can do better, by making a function do the work for us. For our server, we need a counter for the id, and we need a function that will increment the id whenever a user is created.`), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-javascript\"\n      }\n    }, ` let user = function(name, age, balance){\n    const newObject= {} \n    newObject.balance= balance;\n    newObject.name = name;\n    newObject.age = age;\n    newObject.earn = function(){\n        return ++newObject.balance; \n        // id++, return value as is, then increment it by 1\n        // ++id, increment the id by 1, then return (value+1) \n    }\n    newObject.id = newObject.getId();\n\n    return newObject;\n}\n\n\nlet Emil = user(\"Emil\", 23, 0)\nconsole.log(Emil)\n// {name: \"Emil\", age: 23, id: 0, getId: ƒ}\nlet Liam = user(\"Liam\", 10, 1)\n// {name: \"Liam\", age: 10, id: 1, getId: ƒ}\n`)), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `One step closer. Now our function is doing the work, but we have 2 functions created. Let us try to extract that function. But here is a problem`), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-js\"\n      }\n    }, `let id =0;\n\nlet getId = function(){\n    return id++;\n}\nlet user = function(name, age, id){\n    const newObject= {} \n\n    newObject.name = name;\n    newObject.age = age;\n    newObject.id = getId();\n\n    return newObject;\n}\n`)), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `The newly created function/object keeps a reference to who created it, with constructor property on `, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `proto`), ` reference. This is useful because the created function/object inherits methods from the parent. `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Think of it as family relations. When my son Liam was born, he automatically inherited some privileges. Although he could not directly buy what he wanted, he could easily call the buy function from his father, by crying out loud. `), /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, /*#__PURE__*/React.createElement(MDXTag, {\n      name: \"strong\",\n      components: components,\n      parentName: \"p\"\n    }, `proto`), ` is a reference to another objects prototype ? It is confusing right? Naming is one of the hardest parts of programming. The reason we have 2 properties is, everyobject can have its own prototype. `));\n  }\n\n}"}}},"pageContext":{"slug":"/object-oriented-programming/","previous":{"id":"4227c67c-6fe6-5b65-894b-f8e57c32b8fe","fields":{"slug":"/dictionary/"},"frontmatter":{"title":"Dictionary"},"code":{"scope":""}},"next":null}},"staticQueryHashes":["3128451518","3132601055"]}